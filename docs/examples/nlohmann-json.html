<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nlohmann/json åº“ä½¿ç”¨æŒ‡å—</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #e0e0ff;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(30, 30, 60, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }
        h1 { font-size: 2.5em; color: #6ab7ff; margin-bottom: 10px; }
        .subtitle { font-size: 1.2em; color: #a0a0ff; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 2px solid rgba(100, 150, 255, 0.3); }
        h2 { font-size: 1.8em; color: #4cd1a8; margin-top: 40px; margin-bottom: 20px; }
        h3 { font-size: 1.4em; color: #ff9f7f; margin-top: 30px; margin-bottom: 15px; }
        pre {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin-bottom: 25px;
            border: 1px solid rgba(100, 150, 255, 0.2);
        }
        pre code { color: #e0e0ff; font-size: 0.9em; line-height: 1.6; }
        .info-box {
            background: rgba(106, 183, 255, 0.15);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid rgba(106, 183, 255, 0.3);
        }
        .back-link {
            position: fixed;
            right: 30px;
            top: 30px;
            z-index: 1000;
            padding: 12px 24px;
            background: rgba(76, 209, 168, 0.15);
            border: 2px solid rgba(76, 209, 168, 0.3);
            border-radius: 25px;
            color: #4cd1a8;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }
        .back-link:hover {
            background: rgba(76, 209, 168, 0.25);
            border-color: rgba(76, 209, 168, 0.5);
            box-shadow: 0 6px 20px rgba(76, 209, 168, 0.4);
            transform: translateY(-2px);
        }
        .example-section {
            background: rgba(255, 159, 127, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
            border: 1px solid rgba(255, 159, 127, 0.3);
        }
        a { color: #4cd1a8; text-decoration: none; }
        a:hover { color: #6ab7ff; }

        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(76, 209, 168, 0.3);
            text-align: center;
        }

        .footer-text {
            color: #a0a0ff;
            font-size: 0.9em;
            margin: 5px 0;
        }

        .contact-link {
            color: #4cd1a8;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-link:hover {
            color: #ff9f7f;
            text-shadow: 0 0 5px rgba(255, 159, 127, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›åº“åˆ—è¡¨</a>

        <h1>ğŸ“¦ nlohmann/json ä½¿ç”¨æŒ‡å—</h1>
        <p class="subtitle">ç°ä»£åŒ–çš„ C++ JSON åº“</p>

        <div class="info-box">
            <p><strong>é¡¹ç›®åœ°å€ï¼š</strong><a href="https://github.com/nlohmann/json" target="_blank">https://github.com/nlohmann/json</a></p>
            <p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong><a href="https://json.nlohmann.me/" target="_blank">https://json.nlohmann.me/</a></p>
        </div>

        <h2>ğŸ“– ä»€ä¹ˆæ˜¯ nlohmann/jsonï¼Ÿ</h2>
        <p>nlohmann/json æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ C++ JSON åº“ï¼Œä»¥ç›´è§‚çš„è¯­æ³•å’Œé«˜æ€§èƒ½è‘—ç§°ã€‚å®ƒæ˜¯ä¸€ä¸ªä»…å¤´æ–‡ä»¶çš„åº“ï¼Œè®©åœ¨ C++ ä¸­å¤„ç† JSON æ•°æ®å˜å¾—æå…¶ç®€å•ã€‚</p>

        <h2>ğŸš€ å®‰è£…æ–¹å¼</h2>

        <h3>ä½¿ç”¨ vcpkgï¼ˆæ¨èï¼‰</h3>
        <pre><code>vcpkg install nlohmann-json</code></pre>

        <h3>ä½¿ç”¨ Conan</h3>
        <pre><code>conan install nlohmann_json/3.11.2@</code></pre>

        <h3>å•å¤´æ–‡ä»¶å¼•å…¥</h3>
        <pre><code>// ä¸‹è½½ json.hpp æ–‡ä»¶å¹¶ç›´æ¥åŒ…å«
#include "json.hpp"</code></pre>

        <h2>ğŸ’¡ åŸºç¡€ä½¿ç”¨</h2>

        <h3>åˆ›å»ºå’Œè§£æ JSON å¯¹è±¡</h3>
        <div class="example-section">
            <pre><code>#include &lt;iostream&gt;
#include &lt;nlohmann/json.hpp&gt;

using json = nlohmann::json;

int main() {
    // åˆ›å»º JSON å¯¹è±¡
    json j;
    j["name"] = "John";
    j["age"] = 25;
    j["city"] = "Beijing";
    
    std::cout &lt;&lt; j.dump(4) &lt;&lt; std::endl;
    return 0;
}</code></pre>
        </div>

        <h3>ä»å­—ç¬¦ä¸²è§£æ JSON</h3>
        <div class="example-section">
            <pre><code>// ä»å­—ç¬¦ä¸²è§£æ
std::string json_str = R"({
    "name": "John",
    "age": 25,
    "skills": ["C++", "Python", "JavaScript"]
})";

auto j = json::parse(json_str);

// è®¿é—®æ•°æ®
std::string name = j["name"];
int age = j["age"];
std::vector&lt;std::string&gt; skills = j["skills"];</code></pre>
        </div>

        <h3>æ•°ç»„æ“ä½œ</h3>
        <div class="example-section">
            <pre><code>// åˆ›å»ºæ•°ç»„
json j_arr = json::array();
j_arr.push_back("item1");
j_arr.push_back("item2");
j_arr.push_back("item3");

// æˆ–ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨
json j_arr2 = {"item1", "item2", "item3"};

// éå†æ•°ç»„
for (const auto& item : j_arr) {
    std::cout &lt;&lt; item &lt;&lt; std::endl;
}

// è®¿é—®å…ƒç´ 
std::string first = j_arr[0];
size_t size = j_arr.size();</code></pre>
        </div>

        <h3>åµŒå¥—å¯¹è±¡</h3>
        <div class="example-section">
            <pre><code>json person;
person["name"] = "John";
person["age"] = 25;

// åˆ›å»ºåµŒå¥—å¯¹è±¡
person["address"] = {
    {"street", "Main St"},
    {"city", "Beijing"},
    {"zip", "100000"}
};

// åˆ›å»ºåµŒå¥—æ•°ç»„
person["phones"] = {"123-456-7890", "987-654-3210"};

// è®¿é—®åµŒå¥—æ•°æ®
std::string city = person["address"]["city"];
std::string phone = person["phones"][0];

// è¾“å‡ºæ ¼å¼åŒ–çš„ JSON
std::cout &lt;&lt; person.dump(4) &lt;&lt; std::endl;</code></pre>
        </div>

        <h3>ç±»å‹è½¬æ¢</h3>
        <div class="example-section">
            <pre><code>json j;

// è‡ªåŠ¨ç±»å‹æ¨å¯¼
j["integer"] = 42;
j["floating"] = 3.14;
j["boolean"] = true;
j["string"] = "hello";
j["null"] = nullptr;

// æ˜¾å¼è½¬æ¢
int value = j["integer"].get&lt;int&gt;();
double pi = j["floating"].get&lt;double&gt;();
bool flag = j["boolean"].get&lt;bool&gt;();
std::string text = j["string"].get&lt;std::string&gt;();

// æ£€æŸ¥ç±»å‹
if (j["integer"].is_number_integer()) {
    std::cout &lt;&lt; "Is integer" &lt;&lt; std::endl;
}</code></pre>
        </div>

        <h3>åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h3>
        <div class="example-section">
            <pre><code>#include &lt;fstream&gt;

// ååºåˆ—åŒ– - ä»æ–‡ä»¶
json j;
std::ifstream("config.json") &gt;&gt; j;

// åºåˆ—åŒ– - ä¿å­˜åˆ°æ–‡ä»¶
std::ofstream("output.json") &lt;&lt; std::setw(4) &lt;&lt; j;

// ä»å­—ç¬¦ä¸²è§£æ
std::string json_str = R"({"key": "value"})";
auto j = json::parse(json_str);

// è½¬æ¢ä¸ºå­—ç¬¦ä¸²
std::string output = j.dump();           // ç´§å‡‘æ ¼å¼
std::string pretty = j.dump(4);          // ç¼©è¿›4ä¸ªç©ºæ ¼</code></pre>
        </div>

        <h3>ä¸ C++ å®¹å™¨äº’æ“ä½œ</h3>
        <div class="example-section">
            <pre><code>#include &lt;vector&gt;
#include &lt;map&gt;

// std::vector è½¬ JSON
std::vector&lt;int&gt; vec = {1, 2, 3, 4, 5};
json j_vec = vec;

// JSON è½¬ std::vector
auto vec2 = j_vec.get&lt;std::vector&lt;int&gt;&gt;();

// std::map è½¬ JSON
std::map&lt;std::string, int&gt; m = {{"a", 1}, {"b", 2}};
json j_map = m;

// è‡ªå®šä¹‰ç»“æ„ä½“
struct Person {
    std::string name;
    int age;
};

// å®šä¹‰ to_json å’Œ from_json
void to_json(json& j, const Person& p) {
    j = json{{"name", p.name}, {"age", p.age}};
}

void from_json(const json& j, Person& p) {
    j.at("name").get_to(p.name);
    j.at("age").get_to(p.age);
}

// ä½¿ç”¨
Person p{"John", 25};
json j_person = p;
Person p2 = j_person.get&lt;Person&gt;();</code></pre>
        </div>

        <h3>ä¿®æ”¹å’ŒæŸ¥è¯¢</h3>
        <div class="example-section">
            <pre><code>json j = {
    {"name", "John"},
    {"age", 25},
    {"skills", ["C++", "Python"]}
};

// ä¿®æ”¹å€¼
j["age"] = 26;

// æ·»åŠ æ–°å­—æ®µ
j["country"] = "China";

// åˆ é™¤å­—æ®µ
j.erase("age");

// æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
if (j.contains("name")) {
    std::cout &lt;&lt; "Name: " &lt;&lt; j["name"] &lt;&lt; std::endl;
}

// è·å–æ‰€æœ‰é”®
auto keys = j.items();
for (auto& [key, value] : keys) {
    std::cout &lt;&lt; key &lt;&lt; ": " &lt;&lt; value &lt;&lt; std::endl;
}</code></pre>
        </div>

        <h2>ğŸ¯ å¸¸ç”¨æ–¹æ³•é€ŸæŸ¥</h2>
        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <tr style="background: rgba(106, 183, 255, 0.2);">
                <th style="padding: 12px; text-align: left; color: #6ab7ff;">æ“ä½œ</th>
                <th style="padding: 12px; text-align: left; color: #6ab7ff;">æ–¹æ³•</th>
                <th style="padding: 12px; text-align: left; color: #6ab7ff;">è¯´æ˜</th>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">è§£æ</td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);"><code>json::parse()</code></td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">ä»å­—ç¬¦ä¸²è§£æ</td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">åºåˆ—åŒ–</td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);"><code>dump()</code></td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">ç±»å‹æ£€æŸ¥</td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);"><code>is_string()</code>, <code>is_number()</code></td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">æ£€æŸ¥ç±»å‹</td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">è·å–å€¼</td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);"><code>get&lt;T&gt;()</code></td>
                <td style="padding: 10px; border-bottom: 1px solid rgba(100, 150, 255, 0.1);">è·å–æŒ‡å®šç±»å‹</td>
            </tr>
            <tr>
                <td style="padding: 10px;">è®¿é—®</td>
                <td style="padding: 10px;"><code>j["key"]</code>, <code>j.at("key")</code></td>
                <td style="padding: 10px;">è®¿é—®å­—æ®µ</td>
            </tr>
        </table>

        <h2>ğŸ“š æ›´å¤šèµ„æº</h2>
        <ul>
            <li><a href="https://json.nlohmann.me/" target="_blank">å®˜æ–¹æ–‡æ¡£</a></li>
            <li><a href="https://github.com/nlohmann/json" target="_blank">GitHub ä»“åº“</a></li>
        </ul>

        <!-- é¡µè„š -->
        <footer>
            <p class="footer-text">&copy; 2026 C++ å¼€æºåº“ç²¾é€‰åŸºåœ°. ç‰ˆæƒæ‰€æœ‰Â·LEVI</p>
            <p class="footer-text">å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»: <a href="mailto:373102227@qq.com" class="contact-link">373102227@qq.com</a> æˆ– <a href="mailto:liweixs@gmail.com" class="contact-link">liweixs@gmail.com</a></p>
        </footer>
    </div>
</body>
</html>