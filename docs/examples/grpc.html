<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gRPC åº“ä½¿ç”¨æŒ‡å—</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #e0e0ff;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(30, 30, 60, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }
        h1 { font-size: 2.5em; color: #6ab7ff; margin-bottom: 10px; }
        .subtitle { font-size: 1.2em; color: #a0a0ff; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 2px solid rgba(100, 150, 255, 0.3); }
        h2 { font-size: 1.8em; color: #4cd1a8; margin-top: 40px; margin-bottom: 20px; }
        h3 { font-size: 1.4em; color: #ff9f7f; margin-top: 30px; margin-bottom: 15px; }
        pre {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin-bottom: 25px;
            border: 1px solid rgba(100, 150, 255, 0.2);
        }
        pre code { color: #e0e0ff; font-size: 0.9em; line-height: 1.6; }
        .info-box {
            background: rgba(106, 183, 255, 0.15);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid rgba(106, 183, 255, 0.3);
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            padding: 10px 20px;
            background: rgba(76, 209, 168, 0.2);
            border-radius: 8px;
            color: #4cd1a8;
            text-decoration: none;
        }
        a { color: #4cd1a8; text-decoration: none; }
        a:hover { color: #6ab7ff; }

        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(76, 209, 168, 0.3);
            text-align: center;
        }

        .footer-text {
            color: #a0a0ff;
            font-size: 0.9em;
            margin: 5px 0;
        }

        .contact-link {
            color: #4cd1a8;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-link:hover {
            color: #ff9f7f;
            text-shadow: 0 0 5px rgba(255, 159, 127, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›åº“åˆ—è¡¨</a>

        <h1>ğŸ”— gRPC ä½¿ç”¨æŒ‡å—</h1>
        <p class="subtitle">é«˜æ€§èƒ½è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ¡†æ¶</p>

        <div class="info-box">
            <p><strong>é¡¹ç›®åœ°å€ï¼š</strong><a href="https://github.com/grpc/grpc" target="_blank">https://github.com/grpc/grpc</a></p>
            <p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong><a href="https://grpc.io/docs/" target="_blank">https://grpc.io/docs/</a></p>
        </div>

        <h2>ğŸ“– ä»€ä¹ˆæ˜¯ gRPCï¼Ÿ</h2>
        <p>gRPC æ˜¯ Google å¼€å‘çš„é«˜æ€§èƒ½å¼€æºé€šç”¨ RPC æ¡†æ¶ï¼ŒåŸºäº HTTP/2 åè®®å’Œ Protocol Buffers åºåˆ—åŒ–åè®®ã€‚å®ƒæ”¯æŒå¤šç§è¯­è¨€ï¼Œé€‚ç”¨äºæ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿå’Œå¾®æœåŠ¡æ¶æ„ã€‚</p>

        <h2>ğŸš€ å®‰è£…æ–¹å¼</h2>

        <h3>Linux</h3>
        <pre><code># å®‰è£…ä¾èµ–
sudo apt-get install build-essential autoconf libtool pkg-config

# å…‹éš†å¹¶ç¼–è¯‘
git clone https://github.com/grpc/grpc.git
cd grpc
git submodule update --init
mkdir build && cd build
cmake .. -DgRPC_INSTALL=ON
make -j4
sudo make install</code></pre>

        <h3>macOS (Homebrew)</h3>
        <pre><code>brew install grpc</code></pre>

        <h2>ğŸ’¡ åŸºç¡€ä½¿ç”¨</h2>

        <h3>å®šä¹‰ Proto æ–‡ä»¶</h3>
        <pre><code>// hello.proto
syntax = "proto3";

package hello;

service Greeter {
  rpc SayHello (HelloRequest) returns (HelloReply) {}
  rpc SayHelloAgain (HelloRequest) returns (HelloReply) {}
}

message HelloRequest {
  string name = 1;
}

message HelloReply {
  string message = 1;
}</code></pre>

        <h3>ç”Ÿæˆ C++ ä»£ç </h3>
        <pre><code># ç¼–è¯‘ Proto æ–‡ä»¶
protoc --grpc_out=. --plugin=protoc-gen-grpc=`which grpc_cpp_plugin` hello.proto
protoc --cpp_out=. hello.proto

# æˆ–ä½¿ç”¨ cmake è‡ªåŠ¨ç”Ÿæˆ</code></pre>

        <h3>æœåŠ¡ç«¯å®ç°</h3>
        <pre><code>#include &lt;iostream&gt;
#include &lt;grpc++/grpc++.h&gt;
#include "hello.grpc.pb.h"

using grpc::Server;
using grpc::ServerBuilder;
using grpc::ServerContext;
using grpc::Status;
using hello::Greeter;
using hello::HelloRequest;
using hello::HelloReply;

class GreeterServiceImpl final : public Greeter::Service {
  Status SayHello(ServerContext* context, const HelloRequest* request,
                  HelloReply* reply) override {
    std::string prefix("Hello ");
    reply->set_message(prefix + request->name());
    return Status::OK;
  }
};

int main() {
  GreeterServiceImpl service;

  ServerBuilder builder;
  builder.AddListeningPort("0.0.0.0:50051", grpc::InsecureServerCredentials());
  builder.RegisterService(&service);

  std::unique_ptr&lt;Server&gt; server(builder.BuildAndStart());
  std::cout &lt;&lt; "Server listening on 0.0.0.0:50051" &lt;&lt; std::endl;

  server->Wait();
  return 0;
}</code></pre>

        <h3>å®¢æˆ·ç«¯å®ç°</h3>
        <pre><code>#include &lt;iostream&gt;
#include &lt;grpc++/grpc++.h&gt;
#include "hello.grpc.pb.h"

using grpc::Channel;
using grpc::ClientContext;
using grpc::Status;
using hello::Greeter;
using hello::HelloRequest;
using hello::HelloReply;

class GreeterClient {
 public:
  GreeterClient(std::shared_ptr&lt;Channel&gt; channel)
      : stub_(Greeter::NewStub(channel)) {}

  std::string SayHello(const std::string& user) {
    HelloRequest request;
    request.set_name(user);

    HelloReply reply;
    ClientContext context;

    Status status = stub_->SayHello(&context, request, &reply);

    if (status.ok()) {
      return reply.message();
    } else {
      return "RPC failed";
    }
  }

 private:
  std::unique_ptr&lt;Greeter::Stub&gt; stub_;
};

int main() {
  GreeterClient greeter(grpc::CreateChannel(
      "localhost:50051", grpc::InsecureChannelCredentials()));

  std::string user = "World";
  std::string reply = greeter.SayHello(user);
  std::cout &lt;&lt; "Greeter received: " &lt;&lt; reply &lt;&lt; std::endl;

  return 0;
}</code></pre>

        <h3>å¼‚æ­¥æœåŠ¡ç«¯</h3>
        <pre><code>// ä½¿ç”¨ CompletionQueue å¤„ç†å¼‚æ­¥è°ƒç”¨
class ServerImpl {
 public:
  void Run() {
    std::string server_address("0.0.0.0:50051");

    ServerBuilder builder;
    builder.AddListeningPort(server_address, grpc::InsecureServerCredentials());
    builder.RegisterService(&service_);

    cq_ = builder.AddCompletionQueue();
    server_ = builder.BuildAndStart();
    std::cout &lt;&lt; "Server listening on " &lt;&lt; server_address &lt;&lt; std::endl;

    // å¯åŠ¨å¤„ç†çº¿ç¨‹
    void* tag;
    bool ok;
    while (cq_->Next(&tag, &ok)) {
      // å¤„ç†è¯·æ±‚
    }
  }

 private:
  Greeter::AsyncService service_;
  std::unique_ptr&lt;Server&gt; server_;
  std::unique_ptr&lt;ServerCompletionQueue&gt; cq_;
};</code></pre>

        <h2>ğŸ¯ gRPC ç‰¹æ€§</h2>
        <ul style="margin-left: 20px; color: #d0d0ff;">
            <li><strong>å¤šè¯­è¨€æ”¯æŒï¼š</strong>æ”¯æŒ C++ã€Javaã€Pythonã€Goã€Ruby ç­‰</li>
            <li><strong>é«˜æ•ˆåºåˆ—åŒ–ï¼š</strong>åŸºäº Protocol Buffersï¼Œæ¯” JSON æ›´å°æ›´å¿«</li>
            <li><strong>åŒå‘æµï¼š</strong>æ”¯æŒå®¢æˆ·ç«¯æµã€æœåŠ¡ç«¯æµå’ŒåŒå‘æµ</li>
            <li><strong>è´Ÿè½½å‡è¡¡ï¼š</strong>å†…ç½®è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡å‘ç°</li>
            <li><strong>å®‰å…¨ï¼š</strong>æ”¯æŒ SSL/TLS è®¤è¯å’ŒåŠ å¯†</li>
        </ul>

        <h2>ğŸ“š æ›´å¤šèµ„æº</h2>
        <ul>
            <li><a href="https://grpc.io/docs/languages/cpp/" target="_blank">gRPC C++ å®˜æ–¹æ–‡æ¡£</a></li>
            <li><a href="https://github.com/grpc/grpc" target="_blank">GitHub ä»“åº“</a></li>
        </ul>

        <!-- é¡µè„š -->
        <footer>
            <p class="footer-text">&copy; 2026 C++ å¼€æºåº“ç²¾é€‰åŸºåœ°. ç‰ˆæƒæ‰€æœ‰Â·LEVI</p>
            <p class="footer-text">å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»: <a href="mailto:373102227@qq.com" class="contact-link">373102227@qq.com</a></p>
        </footer>
    </div>
</body>
</html>