<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>json11 ä½¿ç”¨æŒ‡å—</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #0f0c29;
            background-image: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #e0e0ff;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: rgba(20, 20, 40, 0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(100, 150, 255, 0.3);
        }

        h1 {
            color: #4cd1a8;
            text-shadow: 0 0 10px rgba(76, 209, 168, 0.5);
            border-bottom: 3px solid #4cd1a8;
            padding-bottom: 10px;
            margin-top: 0;
        }

        h2 {
            color: #ff9f7f;
            margin-top: 40px;
        }

        h3 {
            color: #a0a0ff;
            margin-top: 30px;
        }

        p {
            color: #d0d0ff;
        }

        pre {
            background-color: #1a1a2e;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            border-left: 4px solid #4cd1a8;
            margin: 15px 0;
        }

        code {
            font-family: 'Courier New', monospace;
            color: #a0ffa0;
            font-size: 0.95em;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #4cd1a8;
            text-decoration: none;
            font-weight: bold;
            padding: 10px 20px;
            background-color: rgba(76, 209, 168, 0.1);
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background-color: rgba(76, 209, 168, 0.2);
            box-shadow: 0 0 10px rgba(76, 209, 168, 0.5);
        }

        .warning {
            background-color: rgba(255, 159, 127, 0.1);
            border-left: 4px solid #ff9f7f;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .note {
            background-color: rgba(76, 209, 168, 0.1);
            border-left: 4px solid #4cd1a8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(76, 209, 168, 0.3);
            text-align: center;
        }

        .footer-text {
            color: #a0a0ff;
            font-size: 0.9em;
            margin: 5px 0;
        }

        .contact-link {
            color: #4cd1a8;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-link:hover {
            color: #ff9f7f;
            text-shadow: 0 0 5px rgba(255, 159, 127, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›ä¸»é¡µ</a>

        <h1>json11 ä½¿ç”¨æŒ‡å—</h1>

        <p>json11 æ˜¯ Dropbox å¼€å‘çš„ä¸€ä¸ªè½»é‡çº§ C++ JSON è§£æåº“ï¼Œæä¾›ç®€å•æ˜“ç”¨çš„ API å’Œé«˜æ€§èƒ½çš„ JSON è§£æèƒ½åŠ›ã€‚å®ƒæ˜¯ä¸€ä¸ªå•å¤´æ–‡ä»¶åº“ï¼Œæ˜“äºé›†æˆã€‚</p>

        <h2>ğŸ“¦ å®‰è£…</h2>

        <h3>ä» GitHub è·å–</h3>
        <pre><code>git clone https://github.com/dropbox/json11.git
cd json11
make
# æˆ–è€…ç›´æ¥åŒ…å« json11.hpp</code></pre>

        <h3>å¤´æ–‡ä»¶æ–¹å¼ä½¿ç”¨</h3>
        <pre><code>#include "json11.hpp"</code></pre>

        <h2>ğŸš€ åŸºç¡€ä½¿ç”¨</h2>

        <h3>åˆ›å»º JSON å¯¹è±¡</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace json11;
using namespace std;

int main() {
    // åˆ›å»º JSON å¯¹è±¡
    Json my_json = Json::object {
        { "name", "Alice" },
        { "age", 25 },
        { "active", true }
    };

    std::string json_str = my_json.dump();
    std::cout &lt;&lt; json_str &lt;&lt; std::endl;
    // è¾“å‡º: {"name":"Alice","age":25,"active":true}

    return 0;
}</code></pre>

        <h3>åˆ›å»º JSON æ•°ç»„</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;

using namespace json11;

int main() {
    // åˆ›å»º JSON æ•°ç»„
    Json my_array = Json::array {
        "apple",
        "banana",
        "orange"
    };

    std::cout &lt;&lt; my_array.dump() &lt;&lt; std::endl;
    // è¾“å‡º: ["apple","banana","orange"]

    // åµŒå¥—å¯¹è±¡å’Œæ•°ç»„
    Json nested = Json::object {
        { "users", Json::array {
            Json::object { { "id", 1 }, { "name", "Alice" } },
            Json::object { { "id", 2 }, { "name", "Bob" } }
        }},
        { "count", 2 }
    };

    std::cout &lt;&lt; nested.dump() &lt;&lt; std::endl;

    return 0;
}</code></pre>

        <h3>è§£æ JSON å­—ç¬¦ä¸²</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;
#include &lt;string&gt;

using namespace json11;
using namespace std;

int main() {
    std::string json_str = R"(
        {
            "name": "Alice",
            "age": 25,
            "active": true,
            "hobbies": ["reading", "coding", "gaming"]
        }
    )";

    string err;
    Json data = Json::parse(json_str, err);

    if (!err.empty()) {
        std::cerr &lt;&lt; "Parse error: " &lt;&lt; err &lt;&lt; std::endl;
        return 1;
    }

    // è®¿é—®å­—æ®µ
    std::string name = data["name"].string_value();
    int age = data["age"].int_value();
    bool active = data["active"].bool_value();

    std::cout &lt;&lt; "Name: " &lt;&lt; name &lt;&lt; std::endl;
    std::cout &lt;&lt; "Age: " &lt;&lt; age &lt;&lt; std::endl;
    std::cout &lt;&lt; "Active: " &lt;&lt; (active ? "Yes" : "No") &lt;&lt; std::endl;

    // è®¿é—®æ•°ç»„
    Json hobbies = data["hobbies"];
    std::cout &lt;&lt; "Hobbies:" &lt;&lt; std::endl;
    for (const auto& hobby : hobbies.array_items()) {
        std::cout &lt;&lt; "  - " &lt;&lt; hobby.string_value() &lt;&lt; std::endl;
    }

    return 0;
}</code></pre>

        <h2>ğŸ”§ é«˜çº§åŠŸèƒ½</h2>

        <h3>ç±»å‹æ£€æŸ¥</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;

using namespace json11;

int main() {
    Json data = Json::object {
        { "str", "hello" },
        { "num", 42 },
        { "bool", true },
        { "null", Json::null },
        { "array", Json::array {1, 2, 3} }
    };

    // æ£€æŸ¥ç±»å‹
    std::cout &lt;&lt; "str is string: " &lt;&lt; data["str"].is_string() &lt;&lt; std::endl;
    std::cout &lt;&lt; "num is number: " &lt;&lt; data["num"].is_number() &lt;&lt; std::endl;
    std::cout &lt;&lt; "bool is bool: " &lt;&lt; data["bool"].is_bool() &lt;&lt; std::endl;
    std::cout &lt;&lt; "null is null: " &lt;&lt; data["null"].is_null() &lt;&lt; std::endl;
    std::cout &lt;&lt; "array is array: " &lt;&lt; data["array"].is_array() &lt;&lt; std::endl;

    return 0;
}</code></pre>

        <h3>å®‰å…¨è®¿é—®</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;

using namespace json11;

int main() {
    Json data = Json::object {
        { "name", "Alice" },
        { "age", 25 }
    };

    // å®‰å…¨è®¿é—®ï¼Œä½¿ç”¨é»˜è®¤å€¼
    std::string name = data["name"].string_value();
    std::string city = data["city"].string_value("Unknown");
    int age = data["age"].int_value();
    int score = data["score"].int_value(0);

    std::cout &lt;&lt; "Name: " &lt;&lt; name &lt;&lt; std::endl;
    std::cout &lt;&lt; "City: " &lt;&lt; city &lt;&lt; std::endl;
    std::cout &lt;&lt; "Age: " &lt;&lt; age &lt;&lt; std::endl;
    std::cout &lt;&lt; "Score: " &lt;&lt; score &lt;&lt; std::endl;

    return 0;
}</code></pre>

        <h3>æ ¼å¼åŒ–è¾“å‡º</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;

using namespace json11;

int main() {
    Json data = Json::object {
        { "name", "Alice" },
        { "age", 25 },
        { "hobbies", Json::array {"reading", "coding"} }
    };

    // å‹ç¼©è¾“å‡º
    std::cout &lt;&lt; "Compact: " &lt;&lt; data.dump() &lt;&lt; std::endl;

    // æ ¼å¼åŒ–è¾“å‡ºï¼ˆå¸¦ç¼©è¿›ï¼‰
    std::cout &lt;&lt; "Pretty:\n" &lt;&lt; data.dump(Json::PRETTY_PRINT) &lt;&lt; std::endl;

    return 0;
}</code></pre>

        <h2>ğŸ’¼ å®é™…åº”ç”¨ç¤ºä¾‹</h2>

        <h3>é…ç½®æ–‡ä»¶è¯»å†™</h3>
        <pre><code>#include "json11.hpp"
#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;

using namespace json11;

class Config {
public:
    std::string name;
    int port;
    bool debug;
    std::vector&lt;std::string&gt; hosts;

    bool load(const std::string& filename) {
        std::ifstream file(filename);
        if (!file.is_open()) {
            std::cerr &lt;&lt; "Failed to open config file" &lt;&lt; std::endl;
            return false;
        }

        std::string content((std::istreambuf_iterator&lt;char&gt;(file)),
                            std::istreambuf_iterator&lt;char&gt;());
        file.close();

        std::string err;
        Json json = Json::parse(content, err);
        if (!err.empty()) {
            std::cerr &lt;&lt; "Parse error: " &lt;&lt; err &lt;&lt; std::endl;
            return false;
        }

        name = json["name"].string_value("app");
        port = json["port"].int_value(8080);
        debug = json["debug"].bool_value(false);

        for (const auto& host : json["hosts"].array_items()) {
            hosts.push_back(host.string_value());
        }

        return true;
    }

    bool save(const std::string& filename) const {
        Json json = Json::object {
            { "name", name },
            { "port", port },
            { "debug", debug },
            { "hosts", hosts }
        };

        std::ofstream file(filename);
        if (!file.is_open()) {
            return false;
        }

        file &lt;&lt; json.dump(Json::PRETTY_PRINT);
        file.close();
        return true;
    }

    void print() const {
        std::cout &lt;&lt; "Config:" &lt;&lt; std::endl;
        std::cout &lt;&lt; "  Name: " &lt;&lt; name &lt;&lt; std::endl;
        std::cout &lt;&lt; "  Port: " &lt;&lt; port &lt;&lt; std::endl;
        std::cout &lt;&lt; "  Debug: " &lt;&lt; (debug ? "Yes" : "No") &lt;&lt; std::endl;
        std::cout &lt;&lt; "  Hosts:" &lt;&lt; std::endl;
        for (const auto& host : hosts) {
            std::cout &lt;&lt; "    - " &lt;&lt; host &lt;&lt; std::endl;
        }
    }
};

int main() {
    Config config;
    config.name = "MyApp";
    config.port = 9000;
    config.debug = true;
    config.hosts = {"localhost", "127.0.0.1"};

    // ä¿å­˜é…ç½®
    if (config.save("config.json")) {
        std::cout &lt;&lt; "Config saved" &lt;&lt; std::endl;
    }

    // åŠ è½½é…ç½®
    Config loaded;
    if (loaded.load("config.json")) {
        loaded.print();
    }

    return 0;
}</code></pre>

        <h2>ğŸ“‹ Json ç±»å‹é€ŸæŸ¥</h2>

        <table>
            <thead>
                <tr>
                    <th>ç±»å‹</th>
                    <th>åˆ¤æ–­å‡½æ•°</th>
                    <th>è·å–å‡½æ•°</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>å­—ç¬¦ä¸²</td>
                    <td><code>is_string()</code></td>
                    <td><code>string_value()</code></td>
                </tr>
                <tr>
                    <td>æ•°å­—</td>
                    <td><code>is_number()</code></td>
                    <td><code>int_value()</code>, <code>number_value()</code></td>
                </tr>
                <tr>
                    <td>å¸ƒå°”</td>
                    <td><code>is_bool()</code></td>
                    <td><code>bool_value()</code></td>
                </tr>
                <tr>
                    <td>æ•°ç»„</td>
                    <td><code>is_array()</code></td>
                    <td><code>array_items()</code></td>
                </tr>
                <tr>
                    <td>å¯¹è±¡</td>
                    <td><code>is_object()</code></td>
                    <td><code>object_items()</code></td>
                </tr>
                <tr>
                    <td>ç©ºå€¼</td>
                    <td><code>is_null()</code></td>
                    <td><code>Json::null</code></td>
                </tr>
            </tbody>
        </table>

        <div class="note">
            <strong>ğŸ’¡ æç¤ºï¼š</strong> json11 éå¸¸è½»é‡ï¼Œåªæœ‰ä¸€ä¸ªå¤´æ–‡ä»¶å’Œä¸€ä¸ªæºæ–‡ä»¶ã€‚é€‚åˆä¸éœ€è¦å®Œæ•´ JSON åŠŸèƒ½çš„å°å‹é¡¹ç›®ã€‚
        </div>

        <div class="warning">
            <strong>âš ï¸ æ³¨æ„ï¼š</strong> 
            <ul>
                <li>json11 ç›¸æ¯” nlohmann/json åŠŸèƒ½è¾ƒå°‘</li>
                <li>ä¸æ”¯æŒ STL å®¹å™¨ç›´æ¥è½¬æ¢</li>
                <li>API ç›¸å¯¹ç®€å•ï¼Œé€‚åˆè½»é‡çº§åº”ç”¨</li>
            </ul>
        </div>

        <h2>ğŸ”— å‚è€ƒèµ„æ–™</h2>
        <ul>
            <li><a href="https://github.com/dropbox/json11" target="_blank" style="color: #4cd1a8;">json11 GitHub</a></li>
        </ul>

        <!-- é¡µè„š -->
        <footer>
            <p class="footer-text">&copy; 2026 C++ å¼€æºåº“ç²¾é€‰åŸºåœ°. ç‰ˆæƒæ‰€æœ‰Â·LEVI</p>
            <p class="footer-text">å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»: <a href="mailto:373102227@qq.com" class="contact-link">373102227@qq.com</a></p>
        </footer>
    </div>
</body>
</html>
